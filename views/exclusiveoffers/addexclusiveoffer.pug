extends ../adminlayout

block content
  .container.mt-5.mb-4
    .row.justify-content-center
        .col-lg-10
          h3.mb-5 Add Exclusive Offer

          form(action='/exclusiveoffers', method='POST')
            .row.g-3.mb-3
              label.form-label(for='name') Name:
              input.form-control(type='text', id='name', name='name', required)
            
            .row.g-3.mb-3
              label.form-label(for='description') Description
              textarea.form-control(id='description', name='description', required)
              
              input(type='hidden' name='_csrf' value=csrfToken)

            .row-g-3.mb-3
              label.form-label(for='duration') Duration in days
              input.form-control(type='number' id='duration', name='duration', required)

            .row-g-3.mb-3
              label.form-label(for='price') Price
              input.form-control(type='number' id='price', name='price', required)

            br
            br
            
            button.btn.btn-danger(type='submit') Add Offer


            script.

              const toggleButton1 = document.getElementById('utilities-exclusiveoffers');
              const toggleButton2 = document.getElementById('utilities');
              const collapseTarget1 = document.querySelector(toggleButton1.getAttribute('data-bs-target'));
              const collapseTarget2 = document.querySelector(toggleButton2.getAttribute('data-bs-target'));

              collapseTarget1.classList.add('no-transition');
              collapseTarget2.classList.add('no-transition');

              //- // Set the aria-expanded attribute to true
              toggleButton1.setAttribute('aria-expanded', 'true');
              toggleButton2.setAttribute('aria-expanded', 'true');

              // Use Bootstrap's collapse API to show the collapse element
              const collapseInstance1 = new bootstrap.Collapse(collapseTarget1, {
                toggle: false // Prevents automatic toggle
              });
              const collapseInstance2 = new bootstrap.Collapse(collapseTarget2, {
                toggle: false // Prevents automatic toggle
              });

              collapseInstance1.show();
              collapseInstance2.show();

              setTimeout(() => {
                collapseTarget1.classList.remove('no-transition');
                collapseTarget2.classList.remove('no-transition');
              }, 10); // 10 milliseconds is typically enough