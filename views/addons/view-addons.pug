extends ../adminlayout

block content

  .container-fluid.mt-5.mb-4
    .row.justify-content-center
        .col-lg-12.table-responsive-sm
          h2 List of Add-Ons
          table.table
            thead
              tr
                th Add-On Name
                th Description
                th Options
            tbody
            each addon in addons
              tr
                td= addon.name
                td= addon.description
                td
                  table.table.table-bordered
                    thead
                      tr
                        th Label
                        th Duration/day
                        th Price â‚¬
                    tbody
                      each option in addon.options
                        tr
                          td= option.label
                          td= option.duration
                          td= option.price
                  td
                    a(href=`/addons/edit/${addon._id}`) Edit   

          a.btn.btn-danger(href='/addons/add') New Add-On

  script.
    const toggleButton1 = document.getElementById('utilities-addons');
    const toggleButton2 = document.getElementById('utilities');
    const collapseTarget1 = document.querySelector(toggleButton1.getAttribute('data-bs-target'));
    const collapseTarget2 = document.querySelector(toggleButton2.getAttribute('data-bs-target'));

    collapseTarget1.classList.add('no-transition');
    collapseTarget2.classList.add('no-transition');

    //- // Set the aria-expanded attribute to true
    toggleButton1.setAttribute('aria-expanded', 'true');
    toggleButton2.setAttribute('aria-expanded', 'true');

    // Use Bootstrap's collapse API to show the collapse element
    const collapseInstance1 = new bootstrap.Collapse(collapseTarget1, {
      toggle: false // Prevents automatic toggle
    });
    const collapseInstance2 = new bootstrap.Collapse(collapseTarget2, {
      toggle: false // Prevents automatic toggle
    });

    collapseInstance1.show();
    collapseInstance2.show();

    setTimeout(() => {
      collapseTarget1.classList.remove('no-transition');
      collapseTarget2.classList.remove('no-transition');
    }, 10); // 10 milliseconds is typically enough